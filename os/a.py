
from os import *
from time import *
from kandinsky import *
from ion import *

pal=[[28, 132, 219], [40, 126, 214], [51, 136, 218], [75, 140, 218], [103, 152, 216], [158, 180, 219], [252, 254, 252], [34, 91, 179], [70, 100, 174], [121, 140, 191], [28, 103, 194], [48, 109, 199], [89, 109, 177], [2, 122, 215], [28, 117, 211]]
im="00000000111000010222222222222222222222222222222222222222222222222201000011100000000000000000001110000002222222222222222222222222222222222222000000111000000000000000000000000011111100000000022222222222222222222222220000000000001110000000000000000000000000111111000111000000002222222222222220000000001100000011100000000000000000000000000000000011110000000000000000000000000000000111111000000000000000001000000000000000000000011111111100000000000000000001111111000000000000000000000011100000000000100000000000111111111110000000001111111111100000000000000000000000111100000000000000000000000000000011100000000011100000000000000000000000000000001111111100000000000000000000000000000000000000000000000002000000000000000000011111111111111000000000000000000000000000000000000000000000011000000000000000111111111111111111000000000000000000000000000000000000000000010321000000000000011111111111111111111100000000000000000000000000000000000211245566510100000001111111111111111111111111111000000000000000000000000011100245566666665710000011111111111111111111111111111110000000000000000001000110345566666666666657711000111111111111111111111111111111111111111100011100101345566666666666666666577711111111111111111111111111111111111111111111111122345246666666666666666666665777711111111111111111111111111111111111110111111245566668466666666666666666666657777721101111111111111111111111111111111101355566666666689666666666666666666666577777A00011111111111111111111111111111111156666666666666896666666666666666666665777777A11111111111111111111111111111111111566666666666668966666666666666666666657777777A11111111111111111111111111111111115666666666666689666666666666666666666577777777A11111111111111111111111111111111156666666666666896666666666666666666665777777777A10111111111111111111111111111111566666666666668966666666666666666666657777777777A01111111111111111111111111111115666666666666689666666666666666666666577777777777A11111111111111111111111111111156666666666666896666666666666666666665777777777777A11111111111111111111111111111566666666666668966666666666666666666657777777777777A1111111111111111111111111111566666666666668966666666666666666666657777777777777AB11111111111111111111111111156666666666666896666666666666666666665777777777777777A11111111111111111111111111566666666666668966666666666666666666657777777777777777B111111111111111111111111156666666666666896666666666666666666665777777777777777AAB1111111111111111111111113599999999999977CCCCCCCCC888777777777777777777777777AAAAB1D1111111111111111111113599999999999C77CCCC88888777777777777777777777777777AAAAAB1111111111111111111110566666666666668966666666666666666666657777777777777AAAAAAAB1111111111111111111115666666666666689666666666666666666666577777777777AAAAAAAAAA11111111111111111111156666666666666896666666666666666666665777777777777AAAAAAAAA1111111111111111111115666666666666689666666666666666666666577777777777AAAAAAAAAA11111111111111111111156666666666666896666666666666666666665777777777AAAAAAAAAAAA11111111111111111111156666666666666896666666666666666666665777777777AAAAAAAAAAAA11111111111111111111156666666666666896666666666666666666665777777777AAAAAAAAAAAA11111111111111111111156666666666666896666666666666666666665777777777AAAAAAAAAAAA1111111111111111111115666666666666689666666666666666666666577777777AAAAAAAAAAAABDD11111111111111111115666666666666689666666666666666666666577777777AAAAAAAAAAAABDDD111111111111111111566666666666668966666666666666666666657777777AAAAAAAAAAAABBDDDDDDDD1111111111111566666666666668966666666666666666666657777777AAAAAAAAAAAABBDDDDDDDDDDDDDD11111111C9566666666668966666666666666666666657777777AAAAAAAAAAABBBDDDDDDDDDDDDDDDDD111111A77789566666896666666666666666666665777A77AAAAAAAAAAABBBBDDDDDDDDDDDDDDDDD1111111A777777789579666666666666666666666577AA7AAAAAAAAAAAABBBBDDDDDDDDDDDDDDDDDDDDDDD1DA77777777777C9556666666666666666657777AAAAAAAAAAAAABBBBDDDDDDDDDDDDDDDDDDDDDD1DDDA77777777777777789556666666666665777AAAAAAAAAAABBBBABBDDDDDDDDDDDDDDDDDDDDDDDDD1DA7777777777777777777895566666665A7AAAAAAAAAAAABBBBBBBDDDDDDDDDDDDDDDDDDDDDDDDDD1DA77777777777777777777777B9556657AAAAAAAAAAAAABBBBBBB11DDDDDDDDDDDDDDDDDDDDDDDDDDDA7777777777777777777777777778BAAAAAAAAAAAAABBAAAAAA11111DDDDDDDDDDDDDDDDDDDDDDDDDA77777777777777777777777777A77AAAAAAAAAAAAAAAAAAAA11111111DDDDDDDDDDDDDDDDDDDDDDDA777777777777777777777777AAAAAAAAAAAAAAAAAAAAAAAADDDDD111111111DDDDDDDDDDDDDDDDDDA777777777777777777777AAA7AAAAAAAAAAAAAAAAAAAAAB11DDDDD1111111DDD111DDDDDDDDDDDDDA77777777777777777777AAAAAAAAAAAAAAAAAAAAAAABAB11DDDDDDDDDD11111111111DDDDDDDDDDDA7777777777777777777AAAAAAAAAAAAAAAAAAAAAAABAB11111111DDDDDDD11111111111111111DD1A777777777777777AAA7AAAAAAAAAAAAAAAAAAAAAAEBE11111111111111DDDDDDDDD11D111111DD1DA7777777777777AAAAAAAAAAAAAAAAAAAAAAAABABABE11111111111111111DDDDDDDDD11111111D11A77777777777AAAAAAAAAAAAAAAAAAAAAAAAAABEABE"

RUN = True
a=-1
select=0

def effacertexte(message):
  longeur=-1
  caractere = list(message)
  for i in caractere:
    longeur+=1
  for i in range(3):
    caractere[longeur-i] = ""
  texte = "".join(caractere)
  return texte

def menu(ou, select):
  dessinlobby(select)
  if ou==1:
    select-=1
  elif ou==2:
    select+=1
  fill_rect(0,(select*24),320,24,(0,0,255))
  for i in range(a):
    draw_string(effacertexte(listdir()[i+1]),0,(i*24+3))
  return select

for numbr in listdir():
  a+=1

def dessinlobby(ou):
  for i in range(80*8):
    c = pal[int("0x"+im[(ou*6)*80-2+i])]
    fill_rect((i%80)*4,(((i//80)+ou*6)*4),4,4,(c[0],c[1],c[2]))    
for i in range(9):
  dessinlobby(i)

menu(None, select)
while RUN:
  if select!=0 and keydown(KEY_UP):
    print(select)
    select = menu(1, select)
    print(select)
    sleep(0.2)
  elif keydown(KEY_DOWN):
    select = menu(2, select)
    sleep(0.2)
  if keydown(KEY_OK):
    f = effacertexte(listdir()[select+1])
    fill_rect(0,0,320,222,(255,255,255))
    __import__(f, globals(), locals(),0)
    RUN = False
    fill_rect(0,0,320,222,(255,255,255))

